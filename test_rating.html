<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Rating Stars</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h3>Test Rating System</h3>
        
        <form id="testForm">
            <div class="mb-3">
                <label class="form-label">Đánh giá</label>
                <div class="rating-input">
                    <input type="radio" name="rating" value="5" id="star5" required>
                    <label for="star5" class="star-label" data-rating="5">
                        <i class="bi bi-star"></i>
                    </label>
                    <input type="radio" name="rating" value="4" id="star4" required>
                    <label for="star4" class="star-label" data-rating="4">
                        <i class="bi bi-star"></i>
                    </label>
                    <input type="radio" name="rating" value="3" id="star3" required>
                    <label for="star3" class="star-label" data-rating="3">
                        <i class="bi bi-star"></i>
                    </label>
                    <input type="radio" name="rating" value="2" id="star2" required>
                    <label for="star2" class="star-label" data-rating="2">
                        <i class="bi bi-star"></i>
                    </label>
                    <input type="radio" name="rating" value="1" id="star1" required>
                    <label for="star1" class="star-label" data-rating="1">
                        <i class="bi bi-star"></i>
                    </label>
                </div>
            </div>
            
            <button type="button" class="btn btn-primary" onclick="showSelectedRating()">Test Rating</button>
            <div id="result" class="mt-3"></div>
        </form>
    </div>

    <style>
    .rating-input {
        display: flex;
        flex-direction: row-reverse;
        justify-content: flex-end;
    }

    .rating-input input[type="radio"] {
        display: none;
    }

    .rating-input .star-label {
        color: #ddd;
        font-size: 1.2em;
        cursor: pointer;
        transition: color 0.2s;
        order: 1;
    }

    .rating-input .star-label[data-rating="5"] { order: 1; }
    .rating-input .star-label[data-rating="4"] { order: 2; }
    .rating-input .star-label[data-rating="3"] { order: 3; }
    .rating-input .star-label[data-rating="2"] { order: 4; }
    .rating-input .star-label[data-rating="1"] { order: 5; }

    .rating-input .star-label:hover {
        color: #ffc107;
    }

    .rating-input .star-label.active {
        color: #ffc107;
    }
    </style>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const ratingInputs = document.querySelectorAll('.rating-input input[type="radio"]');
        const starLabels = document.querySelectorAll('.rating-input .star-label');
        
        // Handle hover effect
        starLabels.forEach(function(label) {
            label.addEventListener('mouseenter', function() {
                const rating = parseInt(this.getAttribute('data-rating'));
                updateStarsDisplay(rating);
            });
            
            label.addEventListener('click', function() {
                const rating = parseInt(this.getAttribute('data-rating'));
                const radioInput = document.getElementById('star' + rating);
                radioInput.checked = true;
                updateStarsDisplay(rating);
            });
        });
        
        // Handle mouse leave to reset to selected state
        document.querySelector('.rating-input').addEventListener('mouseleave', function() {
            const checkedInput = document.querySelector('.rating-input input[type="radio"]:checked');
            if (checkedInput) {
                const rating = parseInt(checkedInput.value);
                updateStarsDisplay(rating);
            } else {
                updateStarsDisplay(0);
            }
        });
        
        function updateStarsDisplay(rating) {
            starLabels.forEach(function(label) {
                const labelRating = parseInt(label.getAttribute('data-rating'));
                if (labelRating <= rating) {
                    label.classList.add('active');
                } else {
                    label.classList.remove('active');
                }
            });
        }
    });

    function showSelectedRating() {
        const checkedInput = document.querySelector('.rating-input input[type="radio"]:checked');
        const result = document.getElementById('result');
        if (checkedInput) {
            result.innerHTML = `<div class="alert alert-success">Bạn đã chọn: ${checkedInput.value} sao</div>`;
        } else {
            result.innerHTML = `<div class="alert alert-warning">Vui lòng chọn số sao!</div>`;
        }
    }
    </script>
</body>
</html>